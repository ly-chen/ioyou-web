{"version":3,"sources":["constants/routes.tsx","components/Firebase/context.tsx","components/Firebase/firebase.tsx","components/Session/useSession.tsx","components/Home/Home.tsx","components/Profile/ProfilePage.tsx","components/Signup/SignupPage.tsx","components/Login/LoginPage.tsx","components/Post/Post.tsx","components/Question/Question.tsx","components/App/index.tsx","serviceWorker.ts","index.tsx","components/Question/Question.module.css","components/Profile/Profile.module.css","components/Home/Home.module.css","components/Signup/Signup.module.css","components/Login/Login.module.css","components/Post/Post.module.css"],"names":["ROUTES","FirebaseContext","createContext","useFirebase","useContext","config","apiKey","process","authDomain","databaseURL","projectId","messagingSenderId","SessionContext","auth","initializing","useSession","HomePage","firebase","session","useState","allFeed","setAllFeed","homeFeed","setHomeFeed","academic","setAcademic","bulletin","setBulletin","nowSeconds","setNowSeconds","useEffect","seconds","Date","getTime","console","log","getChannels","a","db","collection","doc","uid","get","user","data","channelList","actives","Object","keys","filter","key","getPosts","sort","category","subjects","docList","query","orderBy","posts","where","limit","empty","forEach","id","i","length","numComments","size","loadPosts","feedLoadingView","style","paddingTop","Card","marginBottom","Body","Title","Text","Spinner","animation","feedView","feedList","map","object","time","timestamp","message","Math","floor","curTime","href","title","Subtitle","subjectObjects","channels","d","indexOf","Row","marginLeft","channelView","className","styles","fontLess","desc","authorName","feedCard","Navbar","bg","variant","Brand","Nav","Button","onClick","username","window","location","marginRight","doSignOut","Container","Col","paddingLeft","paddingBottom","Tabs","defaultActiveKey","Tab","eventKey","ProfilePage","useParams","setUser","userLoading","setUserLoading","userSelf","setUserSelf","editSubjects","setEditSubjects","change","setChange","lang","setLang","sci","setSci","ss","setSS","history","setHistory","historyDone","setHistoryDone","setActives","firestore","results","docs","userID","userResults","getUser","self","getSelf","subjectEdit","subject","activesEdit","name","paddingRight","update","active","DropdownButton","Dropdown","Item","editSubjectsView","entries","subjectsView","SignupPage","validated","setValidated","setName","setUsername","email","setEmail","password","setPassword","err","setErr","usernameErr","setUsernameErr","passCheck","setPassCheck","handling","setHandling","handleSubmit","event","preventDefault","currentTarget","checkValidity","stopPropagation","checkUsername","createUserWithEmailAndPassword","catch","e","newUser","set","then","Form","onSubmit","Group","controlId","Label","Control","required","type","placeholder","onChange","target","value","Feedback","match","Check","label","disabled","as","role","aria-hidden","LoginPage","doSignInWithEmailAndPassword","marginTop","PostPage","setChannels","setChannelList","allChannels","setTitle","description","setDescription","input","setInput","newPost","Timestamp","now","author","functions","httpsCallable","array","index","splice","selectedView","strKeyword","replace","substr","toLowerCase","push","rows","postToView","QuestionPage","props","postid","setSelf","post","setPost","answer","setAnswer","comments","setComments","loadingDone","setLoadingDone","commentsDone","setCommentsDone","getComments","commentsList","selfDoc","postDoc","getPost","newComment","comment","parent","thread","MainApp","exact","path","AppWithAuth","currentUser","authObject","setAuthObject","unsubscribe","onAuthStateChanged","prevState","Provider","AppWithTwitter","getTwitterResult","useCallback","getRedirectResult","result","additionalUserInfo","credential","code","Boolean","hostname","ReactDOM","render","StrictMode","provider","doTwitterSignIn","signInWithRedirect","doCreateUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","app","apps","initializeApp","this","TwitterAuthProvider","App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","module","exports"],"mappings":"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","file":"static/js/main.5a069dea.chunk.js","sourcesContent":["const ROUTES = {\n    ROOT: \"/\",\n    SIGNUP: \"/signup\",\n    LOGIN: \"/login\",\n    POST: \"/new\",\n    USERNAME: \"/user/:username\",\n    COMMENTS: \"/post/:postid\"\n}\n\nexport { ROUTES }","import { createContext, useContext } from 'react'\nimport { Firebase } from './firebase'\n\n\nconst FirebaseContext = createContext<Firebase>({} as Firebase)\n\nconst useFirebase = () => {\n    const firebase = useContext(FirebaseContext)\n\n    return firebase\n}\nexport { FirebaseContext, useFirebase }\n","import app from 'firebase/app'\nimport 'firebase/auth'\nimport 'firebase/firestore'\nimport 'firebase/functions'\n\nconst config = {\n    apiKey: process.env.REACT_APP_API_KEY,\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\n    projectId: process.env.REACT_APP_PROJECT_ID,\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n}\n\nclass Firebase {\n    auth: firebase.auth.Auth\n    db: firebase.firestore.Firestore\n    functions: firebase.functions.Functions\n    provider: firebase.auth.AuthProvider\n\n    constructor() {\n        if (!app.apps.length) {\n            app.initializeApp(config)\n        }\n        this.auth = app.auth()\n        // For ease of access. Note that db normally refers to Firebase Realtime Database.\n        this.db = app.firestore()\n        this.functions = app.functions()\n        this.provider = new app.auth.TwitterAuthProvider()\n    }\n\n    // *** Auth API ***\n\n    // twitter signin handler\n    doTwitterSignIn = async () => {\n        this.auth.signInWithRedirect(this.provider)\n    }\n\n    // email and password signin handlers\n    doCreateUserWithEmailAndPassword = (email: string, password: string) =>\n        this.auth.createUserWithEmailAndPassword(email, password)\n\n    doSignInWithEmailAndPassword = (email: string, password: string) =>\n        this.auth.signInWithEmailAndPassword(email, password)\n\n    doSignOut = () => this.auth.signOut()\n\n}\n\nexport { Firebase }\n","import { createContext, useContext } from 'react'\nimport firebase from 'firebase'\n\ninterface SessionObject {\n    initializing: boolean,\n    auth: firebase.User | null,\n}\n\nconst SessionContext = createContext<SessionObject>({\n    auth: {} as firebase.User,\n    initializing: true\n})\n\nconst useSession = () => {\n    const session = useContext(SessionContext)\n    return session\n}\n\nexport { SessionContext, useSession }\n\n","import React, { useState, useCallback, useEffect } from 'react'\nimport { useFirebase, Firebase } from '../Firebase'\nimport { Navbar, Nav, Button, ButtonGroup, Container, Row, Col, Spinner, Jumbotron, Image, ProgressBar, OverlayTrigger, Popover, Carousel, Card, Tabs, Tab } from 'react-bootstrap'\nimport { useSession } from '../Session'\nimport styles from './Home.module.css'\n\nconst HomePage: React.FC = () => {\n    const firebase = useFirebase()\n    const session = useSession()\n\n    const [allFeed, setAllFeed] = useState<any>(null)\n    const [homeFeed, setHomeFeed] = useState<any>(null)\n    const [academic, setAcademic] = useState<any>(null)\n    const [bulletin, setBulletin] = useState<any>(null)\n    const [channels, setChannels] = useState<Array<string>>([])\n\n    const [nowSeconds, setNowSeconds] = useState<number>(0);\n\n    useEffect(() => {\n        var now = new Date();\n        var seconds = ((now.getTime()) * .001) >> 0;\n        setNowSeconds(seconds);\n\n        console.log(seconds)\n        //retrieves the most recent 10 posts\n        const getChannels = async () => {\n            try {\n                const user = await firebase.db.collection('users').doc(session.auth?.uid).get()\n                console.log('user = ', user.data())\n                const channelList = user.data()?.actives\n                console.log('channelList = ', channelList)\n                console.log('object.keys() = ', Object.keys(channelList).filter((key) => {\n                    return channelList[key] == true;\n                }))\n                return Object.keys(channelList).filter((key) => {\n                    return channelList[key] == true;\n                })\n            } catch (e) {\n                console.log(e)\n            }\n        }\n\n        const getPosts = async (sort: string, category: string, subjects: string[] | undefined) => {\n            try {\n                var docList: any[] = []\n                const query = firebase.db.collection('posts').orderBy(sort, \"desc\")\n\n                let posts = null;\n                if (category === 'home') {\n                    posts = await query.where('channels', 'array-contains-any', subjects).limit(10).get()\n                    console.log('posts = ', posts)\n                } else {\n                    posts = await query.limit(10).get()\n                }\n\n                if (posts.empty || posts == null) {\n                    console.log('No matching documents')\n                    return;\n                }\n\n                posts.forEach(doc => {\n                    docList = [...docList, { id: doc.id, data: doc.data() }];\n                });\n\n                for (let i = 0; i < docList.length; i++) {\n                    const doc = docList[i]\n                    const numComments = await firebase.db.collection('comments').where('parent', '==', doc.id).get()\n                    docList[i] = { id: doc.id, data: doc.data, numComments: numComments.size }\n                }\n\n                if (category === 'all') {\n                    setAllFeed(docList)\n                }\n                if (category === 'home') {\n                    setHomeFeed(docList)\n                }\n                if (category === 'academic') {\n                    setAcademic(docList)\n                }\n                if (category === 'bulletin') {\n                    setBulletin(docList)\n                }\n            } catch (e) {\n                console.log(e)\n            }\n        }\n\n        const loadPosts = async () => {\n            const subjects = await getChannels()\n            console.log('subjects = ', subjects)\n            getPosts('timestamp.seconds', 'all', subjects)\n            getPosts('timestamp.seconds', 'home', subjects)\n            getPosts('timestamp.seconds', 'academic', subjects)\n            getPosts('timestamp.seconds', 'bulletin', subjects)\n        }\n\n        loadPosts()\n    }, [session, firebase])\n\n    //a feed object\n    const feedCard = (object: { id: string | number | undefined; data: { title: string; desc: string; timestamp: { seconds: number, nanoseconds: number }; author: string; channels: Array<string>; authorName: string }; numComments: number }) => {\n\n        var time = nowSeconds - object.data.timestamp.seconds;\n        var message = ''\n        if (time < 120) {\n            message = 'about a minute ago'\n        } else if (time < 3600) {\n            message = `${Math.floor(time / 60)} minutes ago`\n        } else if (time < 86400) {\n            let curTime = Math.floor(time / 3600)\n            if (curTime == 1) {\n                message = 'about an hour ago'\n            } else {\n                message = `${curTime} hours ago`\n            }\n        } else {\n            let curTime = Math.floor(time / 86400)\n            if (curTime == 1) {\n                message = 'yesterday'\n            } else {\n                message = `${curTime} days ago`\n            }\n        }\n\n        const channelView = () => {\n            const subjectObjects = object.data.channels?.map((d) => <p key={d}>{(object.data.channels.indexOf(d) == 0) ? `#${d}` : `, #${d}`}</p>)\n            return (\n                <div>\n                    <Row style={{ marginLeft: 1 }}>{subjectObjects}</Row>\n\n                </div>\n            )\n        }\n\n        return (\n\n            <Card style={{ marginBottom: 20 }}>\n                <Card.Body>\n                    <a href={`/post/${object.id}`}>\n                        <Card.Title>{object.data.title}</Card.Title>\n                    </a>\n                    <Card.Subtitle>{channelView()}</Card.Subtitle>\n                    <Card.Text className={styles.fontLess}> {object.data.desc}</Card.Text>\n                    <Card.Text className={styles.fontLess}>\n                        {object.numComments == 1 ?\n                            <a href={`/post/${object.id}`}>{object.numComments} comment</a>\n                            :\n                            <a href={`/post/${object.id}`}>{object.numComments} comments</a>\n                        }\n\n                        {' '} - posted by <a href={`/user/${object.data.authorName}`}>{`@${object.data.authorName}`}</a> - {message}\n                    </Card.Text>\n                </Card.Body>\n            </Card>\n\n            //\n        )\n    }\n\n    //loading animation while retrieving feed\n    const feedLoadingView = () => {\n        return (\n            <div style={{ paddingTop: 15 }}>\n\n                <Card style={{ marginBottom: 20 }}>\n                    <Card.Body>\n                        <Card.Title></Card.Title>\n                        <Card.Text></Card.Text>\n                        <Spinner animation=\"border\" />\n                    </Card.Body>\n                </Card>\n                <Card style={{ marginBottom: 20 }}>\n                    <Card.Body>\n                        <Card.Title></Card.Title>\n                        <Card.Text></Card.Text>\n                        <Spinner animation=\"border\" />\n                    </Card.Body>\n                </Card>\n                <Card style={{ marginBottom: 20 }}>\n                    <Card.Body>\n                        <Card.Title></Card.Title>\n                        <Card.Text></Card.Text>\n                        <Spinner animation=\"border\" />\n                    </Card.Body>\n                </Card>\n                <Card style={{ marginBottom: 20 }}>\n                    <Card.Body>\n                        <Card.Title></Card.Title>\n                        <Card.Text></Card.Text>\n                        <Spinner animation=\"border\" />\n                    </Card.Body>\n                </Card>\n                <Card style={{ marginBottom: 20 }}>\n                    <Card.Body>\n                        <Card.Title></Card.Title>\n                        <Card.Text></Card.Text>\n                        <Spinner animation=\"border\" />\n                    </Card.Body>\n                </Card>\n            </div>\n\n        )\n    }\n\n    //list of feed objects\n    const feedView = (feedList: { id: string | number | undefined; data: { title: string; desc: string; timestamp: { seconds: number; nanoseconds: number }; author: string; channels: string[]; authorName: string }; numComments: number }[]) => {\n        const feedItems = feedList.map((object: { id: string | number | undefined; data: { title: string; desc: string; timestamp: { seconds: number, nanoseconds: number }; author: string; channels: Array<string>; authorName: string }; numComments: number }) => <div key={object.id} style={{ paddingTop: 15 }}>{feedCard(object)}</div>\n        )\n        return feedItems\n    }\n\n    return (\n        <div>\n            <Navbar bg=\"light\" variant=\"light\">\n                <Navbar.Brand href=\"/\">\n                    {' '}\n                            ioyou\n                    </Navbar.Brand>\n                <Nav className=\"ml-auto\">\n                    {session.auth ?\n                        <div>\n                            <Button variant=\"light\" onClick={async () => {\n                                const user = await firebase.db.collection('users').doc(session?.auth?.uid).get()\n                                const username = user?.data()?.username\n                                window.location.href = `/user/${username}`\n                            }} style={{ marginRight: 10 }}>\n                                Profile\n                            </Button>\n                            <Button href=\"/new\" variant=\"outline-dark\" style={{ marginRight: 10 }}>Create Post</Button>\n                            <Button variant=\"light\" onClick={() => { firebase.doSignOut() }}>\n                                sign out\n                            </Button>\n                        </div>\n\n                        :\n                        <div>\n                            <Button variant=\"outline-dark\" href=\"/login\" style={{ marginRight: 10 }}>\n                                log in\n                                </Button>\n\n                            <Button variant=\"light\" href=\"/signup\">\n                                sign up\n                                </Button>\n                        </div>\n                    }\n\n                </Nav>\n            </Navbar>\n            <Container className={styles.paddingTop}>\n                <Row>\n                    <Col>\n                        <h1 style={{ paddingLeft: 22, paddingBottom: 15 }}>Feed</h1>\n                    </Col>\n                    <Col>\n\n                    </Col>\n                </Row>\n                <Tabs defaultActiveKey=\"Home\" id=\"feed-nav\">\n                    <Tab eventKey=\"All\" title=\"All\">\n                        {\n                            allFeed ?\n                                feedView(allFeed)\n                                :\n                                feedLoadingView()\n                        }\n                    </Tab>\n                    <Tab eventKey=\"Home\" title=\"Home\">\n                        {\n                            homeFeed ?\n                                feedView(homeFeed)\n                                :\n                                feedLoadingView()\n                        }\n                    </Tab>\n                    <Tab eventKey=\"Academic\" title=\"Academic\">\n                        {\n                            academic ?\n                                feedView(academic)\n                                :\n                                feedLoadingView()\n                        }\n                    </Tab>\n                    <Tab eventKey=\"Bulletin\" title=\"Bulletin\">\n                        {\n                            bulletin ?\n                                feedView(bulletin)\n                                :\n                                feedLoadingView()\n                        }\n                    </Tab>\n                </Tabs>\n            </Container>\n        </div>\n    )\n}\n\nexport { HomePage }\n","import React, { useState, useCallback, useEffect } from 'react'\nimport { useParams } from 'react-router-dom';\nimport { useFirebase, Firebase } from '../Firebase'\nimport { firestore } from 'firebase'\nimport { Navbar, Nav, Button, DropdownButton, Dropdown, Container, Row, Col, Spinner, Jumbotron, Image, ProgressBar, OverlayTrigger, Popover, Carousel, Card } from 'react-bootstrap'\nimport { useSession } from '../Session'\nimport styles from './Profile.module.css'\n\nconst ProfilePage: React.FC = () => {\n    const { username } = useParams()\n    const firebase = useFirebase()\n    const session = useSession()\n\n    const [user, setUser] = useState<any>(null);\n    const [userLoading, setUserLoading] = useState<boolean>(true);\n\n    const [userSelf, setUserSelf] = useState<boolean>(false);\n    const [editSubjects, setEditSubjects] = useState<boolean>(false);\n\n    const [change, setChange] = useState<boolean>(false);\n    const [lang, setLang] = useState<boolean>(false)\n    const [sci, setSci] = useState<boolean>(false)\n    const [ss, setSS] = useState<boolean>(false);\n\n    const [history, setHistory] = useState<any>(null);\n\n    const [historyDone, setHistoryDone] = useState<boolean>(false);\n\n\n    //list of subjects\n    const [actives, setActives] = useState<any>({});\n\n    useEffect(() => {\n        const getUser = async () => {\n            const results = await firestore().collection('users').where('username', '==', username).limit(1).get();\n            if (results.empty) {\n                console.log('empty');\n                setUserLoading(false);\n            } else {\n\n                const userID = await results.docs[0].id\n                const userResults = await results.docs[0].data()\n                setUser(userResults)\n                setActives(userResults.actives)\n\n                if (userResults.actives) {\n                    if (userResults.actives['French'] || userResults.actives['Mandarin'] || userResults.actives['Spanish'] || userResults.actives['Languages (General)']) {\n                        setLang(true)\n                    }\n\n                    if (userResults.actives['Biology'] || userResults.actives['Chemistry'] || userResults.actives['Physics'] || userResults.actives['Sciences (General)']) {\n                        setSci(true)\n                    }\n\n                    if (userResults.actives['Psychology'] || userResults.actives['Sociology'] || userResults.actives['Social Sciences (General)']) {\n                        setSS(true)\n                    }\n                }\n                console.log('userResults = ', userResults)\n                console.log('userResults.uid = ', userResults.uid)\n\n                const getPosts = async (sort: string) => {\n                    try {\n                        var docList: any[] = []\n                        const posts = await firebase.db.collection('posts').orderBy(sort, \"desc\").where('author', '==', userID).limit(10).get()\n\n\n                        if (posts.empty || posts == null) {\n                            console.log('No matching documents')\n                            return;\n                        }\n                        posts.forEach(doc => {\n                            docList = [...docList, { id: doc.id, data: doc.data() }];\n                        });\n\n                        setHistory(docList)\n                        console.log('docList = ', docList)\n                        setHistoryDone(true)\n                    } catch (e) {\n                        console.log(e)\n                        setHistoryDone(true)\n                    }\n                }\n\n\n                getPosts('timestamp.seconds');\n                setUserLoading(false);\n            }\n        }\n\n        getUser();\n\n        if (session.auth) {\n            const getSelf = async () => {\n                const self = await firestore().collection('users').doc(session?.auth?.uid).get()\n                if (self?.data()?.username == username) {\n                    setUserSelf(true);\n                }\n            }\n\n\n            getSelf();\n        }\n\n    }, [session, firebase])\n\n    const subjectsView = () => {\n        const subjectObjects = Object.entries(actives).map(([keyName, keyIndex]) =>\n            // use keyName to get current key's name\n            // and a[keyName] to get its value\n            <div key={keyName}>\n                {actives[keyName] ?\n                    <Button active variant='outline-dark' style={{ marginRight: 15, marginBottom: 15 }}>{keyName}</Button>\n                    :\n                    <div></div>\n                }\n\n            </div>\n        )\n        return (\n            <Row style={{ paddingTop: 15, paddingLeft: 15 }}>\n                {subjectObjects}\n            </Row>\n        )\n    }\n\n    const subjectEdit = (subject: string) => {\n        let activesEdit = actives;\n        if (actives[subject] == true) {\n            activesEdit[subject] = false;\n            setActives(activesEdit)\n        } else {\n            activesEdit[subject] = true;\n            setActives(activesEdit);\n        }\n    }\n\n\n    const editSubjectsView = () => {\n\n        var bus = actives['Business']\n        return (\n            <Row style={{ paddingTop: 15, paddingLeft: 15 }}>\n                <Button active={actives['Arts']} variant='outline-dark' style={{ marginRight: 15, marginBottom: 15 }}\n                    onClick={() => {\n                        subjectEdit('Arts')\n                        setChange(!change);\n                    }}\n                >\n                    Arts\n                </Button>\n                <Button active={actives['Business']} variant='outline-dark' style={{ marginRight: 15, marginBottom: 15 }}\n                    onClick={() => {\n                        subjectEdit('Business')\n                        setChange(!change);\n                    }}\n                >\n                    Business</Button>\n                <Button variant='outline-dark' active={actives['Computer Science']} style={{ marginRight: 15, marginBottom: 15 }}\n                    onClick={() => {\n                        subjectEdit('Computer Science')\n                        setChange(!change);\n                    }}\n                >\n                    Computer Science\n                </Button>\n                <Button variant='outline-dark' active={actives['Economics']} style={{ marginRight: 15, marginBottom: 15 }}\n                    onClick={() => {\n                        subjectEdit('Economics')\n                        setChange(!change);\n                    }}\n                >\n                    Economics</Button>\n                <Button variant='outline-dark' active={actives['Finance']} style={{ marginRight: 15, marginBottom: 15 }}\n                    onClick={() => {\n                        subjectEdit('Finance')\n                        setChange(!change);\n                    }}\n                >\n                    Finance</Button>\n                <Button variant='outline-dark' active={actives['History']} style={{ marginRight: 15, marginBottom: 15 }}\n                    onClick={() => {\n                        subjectEdit('History')\n                        setChange(!change);\n                    }}\n                >\n                    History</Button>\n                <Button variant='outline-dark' active={actives['Humanities']} style={{ marginRight: 15, marginBottom: 15 }}\n                    onClick={() => {\n                        subjectEdit('Humanities')\n                        setChange(!change);\n                    }}\n                >\n                    Humanities</Button>\n                <DropdownButton id=\"lang\" title=\"Languages\" variant={lang ? 'dark' : 'outline-dark'} style={{ marginRight: 15, marginBottom: 15 }}>\n                    <Dropdown.Item active={actives['French']} onClick={() => {\n                        subjectEdit('French')\n                        setChange(!change);\n                        if (actives['French'] || actives['Mandarin'] || actives['Spanish'] || actives['Languages (General)']) {\n                            setLang(true)\n                        } else {\n                            setLang(false)\n                        }\n                    }}>\n                        French\n                    </Dropdown.Item>\n                    <Dropdown.Item active={actives['Mandarin']} onClick={() => {\n                        subjectEdit('Mandarin')\n                        setChange(!change);\n                        if (actives['French'] || actives['Mandarin'] || actives['Spanish'] || actives['Languages (General)']) {\n                            setLang(true)\n                        } else {\n                            setLang(false)\n                        }\n                    }}>\n                        Mandarin\n                    </Dropdown.Item >\n                    <Dropdown.Item active={actives['Spanish']} onClick={() => {\n                        subjectEdit('Spanish')\n                        setChange(!change);\n                        if (actives['French'] || actives['Mandarin'] || actives['Spanish'] || actives['Languages (General)']) {\n                            setLang(true)\n                        } else {\n                            setLang(false)\n                        }\n                    }}>\n                        Spanish\n                    </Dropdown.Item>\n                    <Dropdown.Item active={actives['Languages (General)']} onClick={() => {\n                        subjectEdit('Languages (General)')\n                        setChange(!change);\n                        if (actives['French'] || actives['Mandarin'] || actives['Spanish'] || actives['Languages (General)']) {\n                            setLang(true)\n                        } else {\n                            setLang(false)\n                        }\n                    }}>\n                        General\n                    </Dropdown.Item>\n                </DropdownButton>\n                <Button variant='outline-dark' style={{ marginRight: 15, marginBottom: 15 }} active={actives['Mathematics']} onClick={() => {\n                    subjectEdit('Mathematics')\n                    setChange(!change);\n                }}>\n                    Mathematics\n                </Button>\n                <DropdownButton id=\"sci\" title=\"Sciences\" variant={sci ? 'dark' : 'outline-dark'} style={{ marginRight: 15, marginBottom: 15 }}>\n                    <Dropdown.Item active={actives['Biology']} onClick={() => {\n                        subjectEdit('Biology')\n                        setChange(!change);\n                        if (actives['Biology'] || actives['Chemistry'] || actives['Physics'] || actives['Sciences (General)']) {\n                            setSci(true)\n                        } else {\n                            setSci(false)\n                        }\n                    }}>\n                        Biology\n                    </Dropdown.Item>\n                    <Dropdown.Item active={actives['Chemistry']} onClick={() => {\n                        subjectEdit('Chemistry')\n                        setChange(!change);\n                        if (actives['Biology'] || actives['Chemistry'] || actives['Physics'] || actives['Sciences (General)']) {\n                            setSci(true)\n                        } else {\n                            setSci(false)\n                        }\n                    }}>\n                        Chemistry\n                    </Dropdown.Item>\n                    <Dropdown.Item active={actives['Physics']} onClick={() => {\n                        subjectEdit('Physics')\n                        setChange(!change);\n                        if (actives['Biology'] || actives['Chemistry'] || actives['Physics'] || actives['Sciences (General)']) {\n                            setSci(true)\n                        } else {\n                            setSci(false)\n                        }\n                    }}>\n                        Physics\n                    </Dropdown.Item>\n                    <Dropdown.Item active={actives['Sciences (General)']} onClick={() => {\n                        subjectEdit('Sciences (General)')\n                        setChange(!change);\n                        if (actives['Biology'] || actives['Chemistry'] || actives['Physics'] || actives['Sciences (General)']) {\n                            setSci(true)\n                        } else {\n                            setSci(false)\n                        }\n                    }}>\n                        General\n                    </Dropdown.Item>\n                </DropdownButton>\n                <DropdownButton id=\"lang\" title=\"Social Sciences\" variant={ss ? 'dark' : 'outline-dark'} style={{ marginRight: 15, marginBottom: 15 }} >\n                    <Dropdown.Item active={actives['Psychology']} onClick={() => {\n                        subjectEdit('Psychology')\n                        setChange(!change);\n                        if (actives['Psychology'] || actives['Sociology'] || actives['Social Sciences (General)']) {\n                            setSS(true)\n                        } else {\n                            setSS(false)\n                        }\n                    }}>\n                        Psychology\n                    </Dropdown.Item>\n                    <Dropdown.Item active={actives['Sociology']} onClick={() => {\n                        subjectEdit('Sociology')\n                        setChange(!change);\n                        if (actives['Psychology'] || actives['Sociology'] || actives['Social Sciences (General)']) {\n                            setSS(true)\n                        } else {\n                            setSS(false)\n                        }\n                    }}>\n                        Sociology\n                    </Dropdown.Item>\n                    <Dropdown.Item active={actives['Social Sciences (General)']} onClick={() => {\n                        subjectEdit('Social Sciences (General)')\n                        setChange(!change);\n                        if (actives['Psychology'] || actives['Sociology'] || actives['Social Sciences (General)']) {\n                            setSS(true)\n                        } else {\n                            setSS(false)\n                        }\n                    }}>\n                        General\n                    </Dropdown.Item>\n                </DropdownButton>\n                <Button variant='outline-dark' style={{ marginRight: 15, marginBottom: 15 }} active={actives['General']} onClick={() => {\n                    subjectEdit('General')\n                    setChange(!change);\n                }}>General</Button>\n            </Row>\n        )\n    }\n\n    //a feed object\n    const feedCard = (object: { id: string | number | undefined; data: { title: string; desc: string; timestamp: { seconds: number, nanoseconds: number }; author: string; channels: Array<string>; authorName: string } }) => {\n\n        const channelView = () => {\n            const subjectObjects = object.data.channels?.map((d) => <p key={d}>{(object.data.channels.indexOf(d) == 0) ? `#${d}` : `, #${d}`}</p>)\n            return (\n                <div>\n                    <Row style={{ marginLeft: 1 }}>{subjectObjects}</Row>\n\n                </div>\n            )\n        }\n\n        return (\n\n            <Card style={{ marginBottom: 20 }}>\n                <Card.Body>\n                    <a href={`/post/${object.id}`}>\n                        <Card.Title>{object.data.title}</Card.Title>\n                    </a>\n                    <Card.Subtitle>{channelView()}</Card.Subtitle>\n                    <Card.Text className={styles.fontLess}> {object.data.desc}</Card.Text>\n                    <Card.Text className={styles.fontLess}>Posted by {`@${object.data.authorName}`} at {object.data.timestamp.seconds}</Card.Text>\n                </Card.Body>\n            </Card>\n\n            //\n        )\n    }\n\n    //list of feed objects\n    const feedView = (feedList: { id: string | number | undefined; data: { title: string; desc: string; timestamp: { seconds: number; nanoseconds: number }; author: string; channels: string[]; authorName: string } }[]) => {\n        const feedItems = feedList.map((object: { id: string | number | undefined; data: { title: string; desc: string; timestamp: { seconds: number, nanoseconds: number }; author: string; channels: Array<string>; authorName: string } }) => <div key={object.id} style={{ paddingTop: 15 }}>{feedCard(object)}</div>\n        )\n        return feedItems\n    }\n\n    return (\n        <div>\n            <Navbar bg=\"light\" variant=\"light\">\n                <Navbar.Brand href=\"/\">\n                    {' '}\n                            ioyou\n                    </Navbar.Brand>\n                <Nav className=\"ml-auto\">\n                    {session.auth ?\n                        <div>\n                            <Button variant=\"light\" onClick={async () => {\n                                const user = await firebase.db.collection('users').doc(session?.auth?.uid).get()\n                                const username = user?.data()?.username\n                                window.location.href = `/user/${username}`\n                            }} style={{ marginRight: 10 }}>\n                                Profile\n                            </Button>\n                            <Button href=\"/post\" variant=\"outline-dark\" style={{ marginRight: 10 }}>Create Post</Button>\n                            <Button variant=\"light\" onClick={() => { firebase.doSignOut() }}>\n                                sign out\n                            </Button>\n                        </div>\n\n                        :\n                        <div>\n                            <Button variant=\"outline-dark\" href=\"/login\" style={{ marginRight: 10 }}>\n                                log in\n                                </Button>\n\n                            <Button variant=\"light\" href=\"/signup\">\n                                sign up\n                                </Button>\n                        </div>\n                    }\n\n                </Nav>\n            </Navbar>\n            {userLoading ?\n                <Container className={styles.paddingTop}>\n                    <Spinner animation=\"border\" />\n                </Container>\n                :\n                user ?\n                    <Container className={styles.paddingTop}>\n                        <Card>\n                            <Card.Body>\n                                <Row>\n                                    <Col>\n                                        <h2>@{username}</h2>\n                                        <h2>{user.name}</h2>\n                                    </Col>\n                                    <Col>\n                                        <h3>Credits: </h3>\n                                    </Col>\n                                </Row>\n\n\n                                <hr></hr>\n\n                                <Row style={{ paddingLeft: 15 }}>\n                                    <h3 style={{ paddingRight: 15 }}>Channels</h3>\n                                    {userSelf ?\n                                        editSubjects ?\n                                            <Button variant=\"outline-dark\" onClick={async () => {\n                                                setEditSubjects(false)\n                                                await firestore().collection('users').doc(session.auth?.uid).update({ actives: actives })\n\n                                            }}>Save</Button>\n                                            :\n                                            <Button variant=\"outline-dark\" onClick={() => { setEditSubjects(true) }}>Edit</Button>\n                                        :\n                                        <div></div>\n                                    }\n                                </Row>\n                                {\n                                    editSubjects ?\n                                        editSubjectsView()\n                                        :\n                                        actives ?\n                                            subjectsView()\n                                            :\n                                            <div></div>\n                                }\n                            </Card.Body>\n\n                        </Card>\n\n                        <h2 style={{ paddingTop: 50, paddingLeft: 22 }}>Post History</h2>\n\n                        {history\n                            ?\n                            <div>\n\n                                {feedView(history)}\n                            </div>\n                            :\n                            historyDone ?\n                                <h3>No posts.</h3>\n                                :\n                                <Spinner animation=\"border\" />\n                        }\n\n                    </Container>\n                    :\n                    <Container className={styles.paddingTop}>\n                        <h1>User does not exist.</h1>\n                    </Container>\n            }\n\n\n\n        </div>\n    )\n}\n\nexport { ProfilePage }\n","import React, { useState, useEffect } from 'react';\nimport { Navbar, Nav, Button, ButtonGroup, Container, Row, Col, Form, OverlayTrigger, Spinner } from 'react-bootstrap'\nimport styles from './Signup.module.css'\nimport { auth, firestore } from 'firebase'\nimport { useFirebase, Firebase } from '../Firebase'\nimport { useSession } from '../Session'\nimport { AnyCnameRecord } from 'dns';\n\nconst SignupPage: React.FC = () => {\n    const firebase = useFirebase()\n    const session = useSession()\n\n    const [validated, setValidated] = useState<boolean>(false);\n    const [name, setName] = useState<string>('')\n    const [username, setUsername] = useState<string>('')\n    const [email, setEmail] = useState<string>('')\n    const [password, setPassword] = useState<string>('')\n    const [err, setErr] = useState<string>('')\n    const [usernameErr, setUsernameErr] = useState<string>('')\n    const [passCheck, setPassCheck] = useState<boolean>(false);\n\n    const [handling, setHandling] = useState<boolean>(false);\n\n    const handleSubmit = async (event: any) => {\n        event.preventDefault();\n        setHandling(true)\n        console.log('name = ', name)\n        console.log('username = ', username)\n        console.log('email = ', email)\n        console.log('password = ', password)\n        console.log(event.currentTarget)\n        if (event.currentTarget.checkValidity() === false || passCheck === false || usernameErr.length > 0) {\n            console.log(validated);\n            event.preventDefault();\n            event.stopPropagation();\n        } else {\n            const results = await checkUsername(username);\n            if (results > 0) {\n                setUsernameErr('Already taken.')\n            } else {\n                try {\n                    console.log('this is triggered')\n                    const newUser = await auth().createUserWithEmailAndPassword(email, password).catch(e => { console.log(e) })\n                    if (newUser) {\n                        console.log('this is triggered 2')\n                        const uid = newUser?.user?.uid\n                        await firestore().collection('users').doc(uid).set({ name: name, username: username, email: email }).then(() => {\n                            window.location.href = `/user/${username}`\n                        })\n                    }\n                    setValidated(true);\n                } catch (e) {\n                    console.log(e);\n                    setErr(e.message);\n                }\n            }\n        }\n    }\n\n    const checkUsername = async (username: string) => {\n        const results = await firestore().collection('users').where('username', '==', username).limit(1).get();\n        return results.size;\n    }\n\n    const handleChangeName = (event: any) => {\n        setName(event.target.value)\n    }\n\n    const handleChangeUsername = (event: any) => {\n        setUsername(event.target.value)\n        if (event.target.value.length > 15) {\n            setUsernameErr('Too long. Usernames should be < 15 characters.')\n        } else {\n            setUsernameErr('')\n        }\n    }\n\n    const handleChangeEmail = (event: any) => {\n        setEmail(event.target.value)\n    }\n\n    const handleChangePassword = (event: any) => {\n        var check = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,30}$/;\n        setPassword(event.target.value);\n        if (event.target.value.match(check)) {\n            setPassCheck(true);\n            console.log('passCheck')\n        } else {\n            setPassCheck(false);\n            console.log('failCheck')\n        }\n    }\n\n    return (\n        <div>\n            <Navbar bg=\"light\" variant=\"light\">\n                <Navbar.Brand href=\"/\">\n                    {' '}\n                            ioyou\n                    </Navbar.Brand>\n                <Nav className='ml-auto'></Nav>\n                <Button variant=\"outline-dark\">\n                    log in\n                        </Button>\n            </Navbar>\n            <Container className={styles.paddingTop} style={{ paddingBottom: 10 }}>\n                <Form validated={validated} onSubmit={handleSubmit}>\n\n                    <Form.Group controlId=\"formBasicName\">\n                        <Form.Label>Name</Form.Label>\n                        <Form.Control required type=\"text\" placeholder=\"Jane Doe\" onChange={handleChangeName} value={name} />\n                        <Form.Control.Feedback type=\"invalid\">\n                            Please provide a name.\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"formBasicName\">\n                        <Form.Label>Username</Form.Label>\n                        <Form.Control required type=\"text\" placeholder=\"username\" onChange={handleChangeUsername} value={username} />\n                        <Form.Text className=\"text-danger\">\n                            {usernameErr}\n                        </Form.Text>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label>Email address</Form.Label>\n                        <Form.Control required type=\"email\" placeholder=\"jdoe@email.com\" onChange={handleChangeEmail} value={email} />\n                        <Form.Control.Feedback type=\"invalid\">\n                            Please provide an email.\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control required type=\"password\" placeholder=\"Password\" onChange={handleChangePassword} value={password} />\n                        {passCheck ?\n                            <Form.Text className=\"text-success\">\n                                Looks good!\n                            </Form.Text>\n                            :\n                            <Form.Text className=\"text-danger\">\n                                At least 8 characters and contain an uppercase letter, lowercase letter, number, and special character.\n                            </Form.Text>\n                        }\n                    </Form.Group>\n                    <Form.Group controlId=\"formBasicCheckbox\">\n                        <Form.Check required type=\"checkbox\" label=\"I agree to the terms and conditions.\" />\n                    </Form.Group>\n\n                    {handling ?\n                        <Button variant=\"primary\" disabled>\n                            <Spinner\n                                as=\"span\"\n                                animation=\"border\"\n                                size=\"sm\"\n                                role=\"status\"\n                                aria-hidden=\"true\"\n                            />\n                        </Button>\n                        :\n                        <Button variant=\"primary\" type=\"submit\">\n                            Submit\n                    </Button>\n                    }\n\n                </Form>\n                <p className=\"text-danger\">{err}</p>\n            </Container>\n        </div>\n    )\n}\n\nexport { SignupPage }","import React, { useState, useEffect } from 'react';\nimport { Navbar, Nav, Button, ButtonGroup, Container, Row, Col, Form, Spinner, FormControl } from 'react-bootstrap'\nimport { useFirebase, Firebase } from '../Firebase'\nimport { useSession } from '../Session'\nimport styles from './Login.module.css'\n\nconst LoginPage: React.FC = () => {\n    const firebase = useFirebase()\n    const session = useSession()\n\n    const [validated, setValidated] = useState<boolean>(false);\n    const [email, setEmail] = useState<string>('')\n    const [password, setPassword] = useState<string>('')\n    const [err, setErr] = useState<string>('')\n\n    const [handling, setHandling] = useState<boolean>(false)\n\n    useEffect(() => {\n        if (session.auth && validated) {\n            window.location.href = '/'\n        }\n    }, [session, firebase])\n\n    const handleSubmit = async (event: any) => {\n        event.preventDefault();\n        setHandling(true);\n        console.log('email = ', email)\n        console.log('password = ', password)\n        console.log(event.currentTarget)\n        if (event.currentTarget.checkValidity() === false) {\n            console.log(validated);\n            event.preventDefault();\n            event.stopPropagation();\n        } else {\n            try {\n                await firebase.doSignInWithEmailAndPassword(email, password)\n                setValidated(true);\n                window.location.href = \"/\"\n            } catch (e) {\n                console.log(e);\n                setErr(e.message);\n            }\n        }\n        console.log(validated);\n    }\n\n    const handleChangeEmail = (event: any) => {\n        setEmail(event.target.value)\n    }\n\n    const handleChangePassword = (event: any) => {\n        setPassword(event.target.value)\n    }\n\n    return (\n        <div>\n            <Navbar bg=\"light\" variant=\"light\">\n                <Navbar.Brand href=\"/\">\n                    {' '}\n                            ioyou\n                    </Navbar.Brand>\n                <Nav className='ml-auto'>\n                    <Button variant=\"outline-dark\" href=\"/signup\">\n                        sign up\n                    </Button>\n                </Nav>\n\n            </Navbar>\n            <Container className={styles.paddingTop}>\n                <Form validated={validated} onSubmit={handleSubmit}>\n                    <Form.Group controlId=\"formBasicEmail\">\n                        <Form.Label>Email address</Form.Label>\n                        <Form.Control required type=\"email\" placeholder=\"Enter email\" onChange={handleChangeEmail} value={email} />\n                    </Form.Group>\n                    <Form.Group controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control required type=\"password\" placeholder=\"Password\" onChange={handleChangePassword} value={password} />\n                    </Form.Group>\n                    {handling ?\n                        <Button variant=\"primary\" disabled>\n                            <Spinner\n                                as=\"span\"\n                                animation=\"border\"\n                                size=\"sm\"\n                                role=\"status\"\n                                aria-hidden=\"true\"\n                            />\n                        </Button>\n                        :\n                        <Button variant=\"primary\" type=\"submit\" style={{ marginTop: 10 }}>\n                            Log in\n                        </Button>\n                    }\n\n                </Form>\n                <p className=\"text-danger\">{err}</p>\n            </Container>\n        </div>\n    )\n}\n\nexport { LoginPage }","import React, { useState, useEffect } from 'react'\nimport { useFirebase, Firebase } from '../Firebase'\nimport { functions, auth, firestore } from 'firebase'\nimport { Navbar, Nav, Button, ButtonGroup, Container, Row, Col, Spinner, Jumbotron, Image, ProgressBar, OverlayTrigger, Popover, Carousel, Card, Form } from 'react-bootstrap'\nimport { useSession } from '../Session'\nimport styles from './Post.module.css'\n\nconst PostPage: React.FC = () => {\n    const firebase = useFirebase()\n    const session = useSession()\n\n    const [channels, setChannels] = useState<Array<string>>([])\n    const [channelList, setChannelList] = useState<Array<string>>([])\n    const [allChannels, setAllChannels] = useState<Array<string>>(['Arts', 'Business', 'Computer Science', 'Economics', 'Finance', 'History', 'Humanities', 'French', 'Mandarin', 'Spanish', 'Languages (General)', 'Mathematics', 'Biology', 'Chemistry', 'Physics', 'Sciences (General)', 'Psychology', 'Sociology', 'Social Sciences (General)', 'General'])\n    const [title, setTitle] = useState<string>(\"\")\n    const [description, setDescription] = useState<string>(\"\")\n\n    const [err, setErr] = useState<string>(\"\")\n\n    const [handling, setHandling] = useState<boolean>(false)\n\n    const [input, setInput] = useState<string>(\"\")\n\n    const [name, setName] = useState<string>(\"\")\n\n    useEffect(() => {\n        if (!session.auth) {\n            window.location.href = \"/\"\n        } else {\n            const getUser = async () => {\n                const user = await firestore().collection('users').doc(session.auth?.uid).get()\n                setName(user.data()?.username)\n            }\n            getUser()\n        }\n    }, [session, firebase])\n\n    const handleChannelChange = (event: any) => {\n        setInput(event.target.value)\n        if (event.target.value.length > 0) {\n            let strKeyword = event.target.value\n            let subjects = []\n            for (let i = 0; i < allChannels.length; i++) {\n                if (allChannels[i].replace(/[^a-zA-Z0-9]/g, \"\").substr(0, strKeyword.length).toLowerCase() == strKeyword.toLowerCase()) {\n                    subjects.push(allChannels[i])\n                }\n            }\n            setChannelList(subjects)\n        } else {\n            setChannelList([])\n        }\n    }\n\n    const subjectsView = () => {\n        const subjectObjects = channelList.map((d) => <Button variant=\"outline-dark\" key={d} style={{ marginRight: 15, marginBottom: 15 }} onClick={() => {\n            if (channels.length > 9) {\n                setErr('Maximum 10 channels')\n            } else {\n                setErr('')\n                setInput('')\n                setChannelList([])\n                if (channels.indexOf(d) != -1) {\n                    return\n                } else {\n                    setChannels([...channels, d])\n                }\n\n            }\n        }}>{d}</Button>)\n        return (\n            <div>\n                {subjectObjects}\n            </div>\n        )\n    }\n\n    const selectedView = () => {\n        const subjectObjects = channels.map((d) => <Button variant=\"dark\" key={d} style={{ marginRight: 15, marginBottom: 15 }} onClick={() => {\n            var array = [...channels]; // make a separate copy of the array\n            var index = array.indexOf(d)\n            if (index !== -1) {\n                array.splice(index, 1);\n                setChannels(array);\n            }\n            if (channels.length < 11) {\n                setErr('')\n            }\n        }}>{d}</Button>)\n        return (\n            <div>\n                {subjectObjects}\n            </div>\n        )\n    }\n\n    const postToView = () => {\n        const subjectObjects = channels.map((d) => <p key={d}>{(channels.indexOf(d) == 0) ? `to ${d}` : `, ${d}`}</p>)\n        return (\n            <Row style={{ marginTop: 15, marginLeft: 15 }}>\n                {subjectObjects}\n            </Row>\n        )\n    }\n\n    const handleTitleChange = (event: any) => {\n        setTitle(event.target.value)\n    }\n\n    const handleDescriptionChange = (event: any) => {\n        setDescription(event.target.value)\n    }\n\n    const handleSubmit = async (event: any) => {\n        setHandling(true);\n        event.preventDefault()\n        console.log(title)\n        console.log(description)\n        let newPost = null;\n        if (channels.length == 0) {\n            newPost = { title: title, desc: description, timestamp: firestore.Timestamp.now(), author: session?.auth?.uid, channels: ['General'], authorName: name }\n        } else {\n            newPost = { title: title, desc: description, timestamp: firestore.Timestamp.now(), author: session?.auth?.uid, channels: channels, authorName: name }\n        }\n        await functions().httpsCallable('createPost')(newPost)\n        window.location.href = \"/\"\n    }\n\n\n    return (\n        <div>\n            <Navbar bg=\"light\" variant=\"light\">\n                <Navbar.Brand href=\"/\">\n                    {' '}\n                            ioyou\n                    </Navbar.Brand>\n                <Nav className=\"ml-auto\">\n                    <Button variant=\"light\" onClick={async () => {\n                        const user = await firebase.db.collection('users').doc(session?.auth?.uid).get()\n                        const username = user?.data()?.username\n                        window.location.href = `/user/${username}`\n                    }} style={{ marginRight: 10 }}>\n                        Profile\n                    </Button>\n                    <Button variant=\"light\" onClick={() => { firebase.doSignOut() }}>\n                        sign out\n                    </Button>\n                </Nav>\n            </Navbar>\n            <Container className={styles.paddingTop}>\n                <div>\n                    <h1 style={{ paddingBottom: 15 }}>Create a new post</h1>\n                    <Form onSubmit={handleSubmit}>\n                        <Form.Group controlId=\"channels\">\n                            <Form.Label>Channels</Form.Label>\n                            <Row style={{ marginLeft: 10 }}>\n                                {selectedView()}\n                                {subjectsView()}\n                            </Row>\n\n                            <Form.Control type=\"text\" placeholder=\"What subjects?\" onChange={handleChannelChange} value={input} />\n                            <Form.Text className=\"text-danger\">\n                                {err}\n                            </Form.Text>\n                        </Form.Group>\n\n                        <Form.Group controlId=\"title\">\n                            <Form.Label>Title</Form.Label>\n                            <Form.Control required type=\"text\" placeholder=\"What question?\" onChange={handleTitleChange} />\n                        </Form.Group>\n\n                        <Form.Group controlId=\"description\">\n                            <Form.Label>Description</Form.Label>\n                            <Form.Control as=\"textarea\" rows={3} placeholder=\"Add more details if necessary.\" onChange={handleDescriptionChange} />\n                        </Form.Group>\n\n                        {handling ?\n                            <Button variant=\"primary\" disabled style={{ marginTop: 15 }}>\n                                <Spinner\n                                    as=\"span\"\n                                    animation=\"border\"\n                                    size=\"sm\"\n                                    role=\"status\"\n                                    aria-hidden=\"true\"\n                                />\n                            </Button>\n\n                            :\n                            <Button variant=\"primary\" type=\"submit\" style={{ marginTop: 15 }}>\n                                Post\n                        </Button>\n\n                        }\n\n\n                        {postToView()}\n\n                    </Form>\n                </div>\n            </Container>\n        </div>\n    )\n}\n\n\nexport { PostPage }\n","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom';\nimport { useFirebase, Firebase } from '../Firebase'\nimport { functions, auth, firestore } from 'firebase'\nimport { Navbar, Nav, Button, ButtonGroup, Container, Row, Col, Spinner, Jumbotron, Image, ProgressBar, OverlayTrigger, Popover, Carousel, Card, Form } from 'react-bootstrap'\nimport { useSession } from '../Session'\nimport styles from './Question.module.css'\n\nconst QuestionPage: React.FC = (props) => {\n    const firebase = useFirebase()\n    const session = useSession()\n\n    const { postid } = useParams()\n\n    const [self, setSelf] = useState<any>(null);\n    const [post, setPost] = useState<any>(null);\n\n    const [answer, setAnswer] = useState<string>(\"\")\n    const [comments, setComments] = useState<any>(null)\n\n    const [loadingDone, setLoadingDone] = useState<boolean>(false);\n    const [commentsDone, setCommentsDone] = useState<boolean>(false);\n\n    const getComments = async () => {\n        try {\n            var docList: any[] = []\n            const commentsList = await firebase.db.collection('comments').where('parent', '==', postid).get()\n\n\n            if (commentsList.empty || commentsList == null) {\n                console.log('No matching documents')\n                setCommentsDone(true)\n                return;\n            }\n            commentsList.forEach(doc => {\n                docList = [...docList, { id: doc.id, data: doc.data() }];\n            });\n\n            setComments(docList)\n            console.log('docList = ', docList)\n            setCommentsDone(true)\n        } catch (e) {\n            console.log(e)\n            setCommentsDone(true)\n        }\n    }\n\n    useEffect(() => {\n        if (session.auth) {\n            const getSelf = async () => {\n                const selfDoc = await (await firestore().collection('users').doc(session.auth?.uid).get()).data()\n                setSelf(selfDoc)\n            }\n            getSelf();\n        }\n\n\n        const getPost = async () => {\n            try {\n                const postDoc = await (await firestore().collection('posts').doc(postid).get()).data()\n                console.log('postDoc = ', postDoc)\n\n                setPost(postDoc)\n                getComments()\n                setLoadingDone(true)\n            } catch (e) {\n                console.log(e)\n                setLoadingDone(true)\n            }\n\n        }\n\n        getPost();\n    }, [session, firebase])\n\n\n    const handleAnswerChange = (event: any) => {\n        setAnswer(event.target.value)\n    }\n\n    const handleSubmit = async (event: any) => {\n        event.preventDefault()\n        console.log(answer)\n        const newComment = { comment: answer, parent: postid, thread: postid, timestamp: firestore.Timestamp.now(), author: session?.auth?.uid, authorName: self.username }\n        await functions().httpsCallable('createComment')(newComment).then(() => {\n            getComments()\n        })\n    }\n\n    //a feed object\n    const feedCard = (object: { id: string | number | undefined; data: { comment: string; timestamp: { seconds: number, nanoseconds: number }; author: string; authorName: string; parent: string; thread: string } }) => {\n\n        return (\n\n            <Card style={{ marginBottom: 20 }}>\n                <Card.Body>\n                    <Card.Title>{`@${object.data.authorName}`}</Card.Title>\n                    <Card.Text className={styles.fontLess}> {object.data.comment}</Card.Text>\n                    <Card.Text className={styles.fontLess}>{object.data.timestamp.seconds}</Card.Text>\n                </Card.Body>\n            </Card>\n\n            //\n        )\n    }\n\n    //list of feed objects\n    const feedView = (feedList: { id: string | number | undefined; data: { comment: string; timestamp: { seconds: number; nanoseconds: number }; author: string; authorName: string; parent: string; thread: string } }[]) => {\n        const feedItems = feedList.map((object: { id: string | number | undefined; data: { comment: string; timestamp: { seconds: number, nanoseconds: number }; author: string; authorName: string; parent: string; thread: string } }) => <div key={object.id} style={{ paddingTop: 15 }}>{feedCard(object)}</div>\n        )\n        return feedItems\n    }\n\n\n    return (\n        <div>\n            <Navbar bg=\"light\" variant=\"light\">\n                <Navbar.Brand href=\"/\">\n                    {' '}\n                            ioyou\n                    </Navbar.Brand>\n                <Nav className=\"ml-auto\">\n                    <Button variant=\"light\" onClick={async () => {\n                        const user = await firebase.db.collection('users').doc(session?.auth?.uid).get()\n                        const username = user?.data()?.username\n                        window.location.href = `/user/${username}`\n                    }} style={{ marginRight: 10 }}>\n                        Profile\n                            </Button>\n                    <Button variant=\"outline-dark\" onClick={() => { firebase.doSignOut() }}>\n                        sign out\n                    </Button>\n                </Nav>\n            </Navbar>\n            {post ?\n                <Container className={styles.paddingTop}>\n                    <Card style={{ marginBottom: 30 }}>\n                        <Card.Body>\n                            <Card.Title>{post?.title}</Card.Title>\n                            <Card.Text>{post?.desc}</Card.Text>\n                            <Card.Text className={styles.fontLess}>Posted by {`@${post?.authorName}`} at {post?.timestamp.seconds}</Card.Text>\n                        </Card.Body>\n                    </Card>\n\n                    <Form onSubmit={handleSubmit}>\n\n                        <Form.Group controlId=\"description\">\n                            <Form.Label>Answer</Form.Label>\n                            <Form.Control as=\"textarea\" rows={3} placeholder=\"\" onChange={handleAnswerChange} />\n                        </Form.Group>\n\n                        <Button variant=\"primary\" type=\"submit\" style={{ marginTop: 15 }}>\n                            Comment\n                        </Button>\n                    </Form>\n\n                    <hr></hr>\n\n\n\n                    {comments\n                        ?\n                        <div>\n                            <h3 style={{ paddingTop: 50, paddingLeft: 22, paddingBottom: 15 }}>{comments.length} comments</h3>\n                            {feedView(comments)}\n                        </div>\n                        :\n                        commentsDone ?\n                            <h3 style={{ paddingTop: 50, paddingLeft: 22, paddingBottom: 15 }}>0 comments</h3>\n                            :\n                            <Spinner animation=\"border\" />\n                    }\n                </Container>\n                :\n                loadingDone ?\n                    <Container className={styles.paddingTop}>\n                        <h1>No post found.</h1>\n                    </Container>\n                    :\n                    <Container className={styles.paddingTop}>\n                        <Spinner animation=\"border\" />\n                    </Container>\n            }\n\n        </div>\n    )\n}\n\n\nexport { QuestionPage }\n","import React, { useState, useEffect, useContext, useCallback } from 'react'\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link\n} from \"react-router-dom\"\n\nimport { ROUTES } from '../../constants'\nimport { HomePage } from '../Home'\nimport { ProfilePage } from '../Profile'\nimport { SignupPage } from '../Signup'\nimport { LoginPage } from '../Login'\nimport { PostPage } from '../Post'\nimport { useFirebase } from '../Firebase'\nimport { useSession, SessionContext } from '../Session/'\nimport { QuestionPage } from '../Question'\n\nconst MainApp: React.FC = () => {\n    const session = useSession()\n\n    if (session.initializing) {\n        return (<div></div>)\n    }\n    return (\n        <Router>\n            <Switch>\n                <Route exact path={ROUTES.ROOT}>\n                    <HomePage />\n                </Route>\n                <Route path={ROUTES.SIGNUP}>\n                    <SignupPage />\n                </Route>\n                <Route path={ROUTES.LOGIN}>\n                    <LoginPage />\n                </Route>\n                <Route path={ROUTES.POST}>\n                    <PostPage />\n                </Route>\n                <Route path={ROUTES.USERNAME}>\n                    <ProfilePage />\n                </Route>\n                <Route path={ROUTES.COMMENTS}>\n                    <QuestionPage />\n                </Route>\n            </Switch>\n        </Router>\n    )\n}\n\n\nconst AppWithAuth: React.FC = () => {\n    const firebase = useFirebase()\n    const [authObject, setAuthObject] = useState(() => {\n        const currentUser = firebase.auth.currentUser\n        if (!currentUser) {\n            return {\n                initializing: true,\n                auth: null,\n            }\n        } else {\n            return {\n                initializing: false,\n                auth: currentUser,\n            }\n        }\n\n    })\n\n    useEffect(() => {\n        function onChange(newUser: any) {\n            console.log('New user detected in auth onChange: ', newUser)\n            if (newUser === null) {\n                // Not authenticated\n                console.log('Not authenticated')\n                setAuthObject({ initializing: false, auth: null })\n            } else {\n                // New authentication occurred\n                setAuthObject(prevState => {\n                    if (prevState.auth === null) {\n                        // Went from unauthenticated to authenticated\n                        console.log('Authenticated')\n                        return { initializing: false, auth: newUser }\n                    } else {\n                        // Bug: Went from authenticated to another authentication\n                        console.log('Bug: reauthenticated')\n                        return prevState\n                    }\n                })\n            }\n        }\n\n        // listen for auth state changes\n        const unsubscribe = firebase.auth.onAuthStateChanged(onChange)\n        // unsubscribe to the listener when unmounting\n\n        return () => {\n            unsubscribe()\n            // We loaded a prof and were listening to it\n        }\n    }, [firebase.auth])\n\n    return (\n        <SessionContext.Provider value={authObject}>\n            <MainApp />\n        </SessionContext.Provider>\n    )\n}\n\nconst AppWithTwitter: React.FC = () => {\n    const firebase = useFirebase()\n\n    const getTwitterResult = useCallback(\n        async () => {\n            // If already logged in, no need to check\n            if (firebase.auth.currentUser) {\n                return\n            }\n            try {\n                const result = await firebase.auth.getRedirectResult()\n                console.log('Received Redirect result: ', result)\n                const { user, additionalUserInfo, credential } = result\n                if (!user) {\n                    console.log('No Twitter Redirect Result!')\n                    return\n                }\n                console.log('Current user after redirect: ', firebase.auth.currentUser)\n                // Register user for first time\n            }\n            catch (error) {\n                var errorCode = error.code;\n                var errorMessage = error.message;\n                // The email of the user's account used.\n                var email = error.email;\n                // The firebase.auth.AuthCredential type that was used.\n                var credential = error.credential;\n                console.log(error)\n            }\n\n        }, [firebase.auth])\n\n    useEffect(() => {\n        console.log('Current user in Twitter Checking Component: ', firebase.auth.currentUser)\n        getTwitterResult()\n    }, [getTwitterResult, firebase.auth])\n\n    return (\n        <AppWithAuth />\n    )\n}\n\n\n\nexport default AppWithTwitter ","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { FirebaseContext, Firebase } from './components/Firebase';\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <FirebaseContext.Provider value={new Firebase()}>\n      <App />\n    </FirebaseContext.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paddingTop\":\"Question_paddingTop__3SnTv\",\"centerItems\":\"Question_centerItems__2niqs\",\"fontLess\":\"Question_fontLess__1iLQC\",\"opaqueLess\":\"Question_opaqueLess__2kYLQ\",\"refresh\":\"Question_refresh__vU4gl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paddingTop\":\"Profile_paddingTop__3kNOc\",\"centerItems\":\"Profile_centerItems__3xB3O\",\"fontLess\":\"Profile_fontLess__1fK0e\",\"opaqueLess\":\"Profile_opaqueLess__DR6mh\",\"refresh\":\"Profile_refresh__Vh51B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paddingTop\":\"Home_paddingTop__lwuR_\",\"centerItems\":\"Home_centerItems__11x6e\",\"fontLess\":\"Home_fontLess__3aF4X\",\"opaqueLess\":\"Home_opaqueLess__1EMYG\",\"refresh\":\"Home_refresh__2Epj3\",\"aNoStyle\":\"Home_aNoStyle__3zzT_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paddingTop\":\"Signup_paddingTop__3HXmM\",\"centerItems\":\"Signup_centerItems__k192t\",\"fontLess\":\"Signup_fontLess__X2EvG\",\"opaqueLess\":\"Signup_opaqueLess__1t1Dw\",\"refresh\":\"Signup_refresh__26-ho\",\"errMessage\":\"Signup_errMessage__2DZ-o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paddingTop\":\"Login_paddingTop__217cV\",\"centerItems\":\"Login_centerItems__1sObU\",\"fontLess\":\"Login_fontLess__30mul\",\"opaqueLess\":\"Login_opaqueLess__3Bk5N\",\"refresh\":\"Login_refresh__3VAKS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paddingTop\":\"Post_paddingTop__MEynF\",\"centerItems\":\"Post_centerItems__2dmyQ\",\"fontLess\":\"Post_fontLess__hqyhX\",\"opaqueLess\":\"Post_opaqueLess__1M4G5\",\"refresh\":\"Post_refresh__1fCFf\"};"],"sourceRoot":""}